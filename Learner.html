<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宇峰Learner</title>
    <style>
        html,body {
            height: 100%;
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
        }
        textarea{
            width: 95%;
            height: 40px;
            resize: none;
            padding: 5px;
            margin-bottom: 50px;
            left: 10px;
            bottom: 0px;
            position: adsolute;
            border-radius: 10px;
            border-color: #87B2F6;
            border-width: 3px;
        }
        #output-text{
            height: 70%;
            margin-top: 20px;
            text-align: left;
            overflow-y: auto;
        }
        dt{
            font-weight: bold;
            padding: 10px;
        }
        .container {
            width:80%;
            height: 95%;
            margin: 0 auto;
            text-align: center; 
            background-color: #ffffff;
            position: relative;
        }
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            bottom: 0px;
        }
        img{
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="container">
      <h1>Learner</h1>
      <div id="output-text">
        <dl id="thelist">
        </dl>
      </div>
    <textarea id="input-text" placeholder="q输入问题..."></textarea>
    <button id="submit-button">发送</button>
    </div>

    
    <script>
      function addelement(term, desc) {
        var completelist= document.getElementById("thelist");

        if(term =="You") {
          completelist.innerHTML += "<dt>" + "<img src='you.png' width='40' height='40'>" + "</dt>";
          completelist.innerHTML += "<dd>" + desc +"</dd>";
        }
        else{
          completelist.innerHTML += "<dt>" + "<img src='chatgpt.png' width='40' height='40'>" + "</dt>";
          completelist.innerHTML += "<dd>" + desc +"</dd>";
        }
      }

     function sendRequest() {
    // 获取用户输入的内容
    var userInput = document.getElementById('user-input').value;

    // 构建请求的URL
    var apiUrl = 'https://api.chatanywhere.tech/v1/chat/completions';

    // 构建请求的数据对象
    var data = {
        prompt: userInput,
        max_tokens: 150
    };

    // 发送POST请求到ChatGPT API
    fetch(apiUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'sk-8LOPaOSfDfYTXKOSvkVSSI5R3xGHcY1f8k6OkmhnWi1NN1OE' // 替换为您的实际API密钥
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
        // 处理API响应并显示在页面上
        var responseElement = document.getElementById('response');
        responseElement.innerHTML = '<p><strong>Response:</strong> ' + data.choices[0].text.trim() + '</p>';
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

    </script>
</body>
</html>
